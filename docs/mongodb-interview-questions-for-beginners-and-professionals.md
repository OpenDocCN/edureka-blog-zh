# 2023 年 MongoDB 面向初学者和专业人士的面试问题

> 原文：<https://www.edureka.co/blog/mongodb-interview-questions-for-beginners-and-professionals>

这里有一个 MongoDB 面试常见问题和答案的列表，适用于初学者和专业人士。

**MongoDB 最好的特性是什么？**

 <caption>#### **MongoDB 特性**</caption> 
| **特色** | **描述** |
| ***标引*** | 创建 It 索引是为了提高搜索性能。 |
| ***复制*** | MongoDB 将数据分布在不同的机器上。 |
| ***临时查询*** | 它通过使用独特的查询语言索引 BSON 文档&来支持特别查询。 |
|  | 它非常灵活，因为它的无模式数据库是用 C++编写的。 |
| ***分片*** | MongoDB 使用分片来实现具有超大型数据集和高吞吐量操作的部署。 |

**使用复制时，是否可以让部分成员使用日志记录，其他成员不使用？**

是啊！

**日志功能可以用来执行安全的热备份吗？**

是啊！

**什么是 32 位细微差别？**

日志记录有一个额外的内存映射文件活动。这将进一步限制 32 位版本有限的数据库大小。目前，默认情况下，日志在 32 位系统上是禁用的。

**条目不全的情况下会有日志回放程序吗(如果一个中间出现故障)？**

每个日志(组)写入都是一致的，除非完成，否则在恢复期间不会重放。

**profiler 在 MongoDB 中的作用是什么？**

MongoDB 包括一个数据库分析器，它显示了针对数据库的每个操作的性能特征。使用这个探查器，您可以发现比预期慢的查询(和写操作),并使用这些信息来确定何时需要索引。

**什么是‘命名空间’？**

MongoDB 在集合中存储 BSON 对象。数据库名称和集合名称的连接(中间有一个句点)称为“名称空间”。

**当一个对象属性被删除时，是否从存储中删除？**

是的，您可以删除属性，然后重新保存()对象。

**允许空值吗？**

是的，但只适用于对象的成员。不能将 null 添加到数据库集合中，因为它不是对象。但是可以加上{ }。

**a 是否立即将 fsync 更新到磁盘？**

不会。默认情况下，写入磁盘是惰性的。写操作可能只在几秒钟后才会击中磁盘。例如，如果数据库在一秒钟内接收到一个对象的一千个增量，它将只被刷新到磁盘一次。*(注意:fsync 选项在命令行和 getLastError_old 中都可用。)*

**如何进行交易/锁定？**

MongoDB 不使用传统的锁定或带有回滚的复杂事务，因为它被设计为轻量级、快速且性能可预测。可以想象这与 MySQL 的 MyISAM 自动提交模型有多么相似。通过保持事务支持非常简单，性能得到了提高，尤其是在可能跨许多服务器运行的系统中。

**数据文件为什么这么大？**

MongoDB 积极地预分配保留空间，以避免文件系统碎片。

**副本集故障转移需要多长时间？**

其他成员可能需要 10-30 秒来宣布初选结束，并选出新的初选。在此时间窗口内，群集因主要操作(即写入和强一致性读取)而停机。但是，最终可能会在任何时候(在 slaveOk 模式下)对辅助节点执行一致的查询，包括在此窗口期间。

**什么是主或主？**

这是当前的主节点/成员，处理副本集的所有写入。在副本集中的故障转移事件期间，不同的成员可以成为主要成员。

**什么是次要或奴隶？**

辅助节点是从当前主节点应用操作的节点/成员。这是通过跟踪复制操作日志(local.oplog.rs)来完成的。从主服务器到辅助服务器的复制是异步的，但是，辅助服务器会尽可能地保持最新状态(在局域网上通常只有几毫秒)。

**是否需要调用“getLastError”来使写入持久？**

不会。如果没有调用“getLastError”(也称为“安全模式”)，服务器的行为就像被调用一样。“getLastError”调用只允许用户确认写操作已成功提交。当然，通常你会想要确认，但是书写安全和它的耐久性是独立的。

您应该从分片还是非分片的 MongoDB 环境开始？

为了简单和快速启动，我们建议从非分片开始，除非您的初始数据集不适合单台服务器。从非分片升级到分片很容易而且无缝，所以在数据集很大之前设置分片并没有太大的优势。

**分片如何与复制协同工作？**

每个碎片都是分区数据的逻辑集合。碎片可以由一台服务器或一群副本组成。强烈建议为每个碎片使用一个副本集。

**什么时候数据会在多个分片上？**

MongoDB 分片是基于范围的。所以集合中的所有对象都在一个块中。只有当超过 1 个块时，才可以选择多个分片来获取数据。目前，默认的块大小是 64mb，因此您至少需要 64mb 来进行迁移。

**在正在迁移的块上更新文档会发生什么？**

更新将在旧碎片上立即进行，然后在所有权转移之前，更改将被复制到新碎片上。

**查询时一个 Shard 当机或者速度慢会怎么样？**

如果 Shard 关闭，查询将返回错误，除非设置了“Partial”查询选项。如果一个碎片反应很慢，Mongos 会等待它。

**‘move chunk’目录下的旧文件可以删除吗？**

是的，这些文件是在正常的碎片平衡操作中作为备份创建的。一旦操作完成，就可以删除它们。清理过程目前是手动的，因此需要注意释放空间。

**如何看 Mongos 使用的连接？**

需要使用以下命令:db。_ admin command(" connPoolStats ")；

**如果“移动块”失败，是否需要清理部分移动的文档？**

不，块移动是一致的和确定的。移动将重试，完成后，数据将只在新的碎片上。

**MongoDB 有哪些缺点？**

*   32 位版本有 2GB 的数据限制。之后，它将破坏整个数据库，包括现有的数据。64 位版本不会受到这个 bug/特性的困扰。
*   MongoDB 的默认安装打开了异步和批量提交。也就是说，当要求在 DB 中存储某些内容时，它会撒谎，并在以后的某个时间成批提交所有更改。如果出现服务器崩溃或电源故障，缓存在内存中的所有提交都将丢失。这个功能可以被禁用，但是它的性能会和 MySQL 一样好或者更差。
*   MongoDB 只适合于实现诸如分析/缓存之类的东西，其中少量数据丢失的影响可以忽略不计。
*   在 MongoDB 中，很难表示数据之间的关系，因此您最终需要手动创建另一个表来表示两个或更多表中行之间的关系。

有问题要问我们吗？请在评论区提到他们，我们会尽快回复你，或者今天就加入我们的 [Mongodb 认证](https://www.edureka.co/mongodb-certification-training)课程。

**相关帖子:**

[了解 MongoDB 架构](https://www.edureka.co/blog/understanding-mongodb-architecture/ "Understanding MongoDB Architecture")