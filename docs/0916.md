# 既然你已经可以加入 Tableau，为什么还要融合呢？

> 原文:[https://www.edureka.co/blog/tableau-data-blending/](https://www.edureka.co/blog/tableau-data-blending/)

在一个每天产生和消耗 2.5 万亿字节数据的世界里，组织必然会寻找新的方法来转换和组合数据，以获得最佳效率。一种这样的组合数据的方法是***Tableau***中的数据混合。

现在，因为它在任何给定组织的数据周期中服务于如此重要的目的，所以它成为大多数 [***Tableau 培训***](https://www.edureka.co/tableau-certification-training) ***c*** 课程中非常重要的模块。在这篇博客中，我们将讨论以下概念:

*   [**Tableau 中为什么需要数据融合？**](#whydoyouneeddatablending)
*   [**什么是 Tableau 中的数据融合？**](#whatisdatablending)
*   [**与数据连接有什么不同？**](#datablendingvsdatajoining)
*   [**什么时候用加入代替勾兑？**](#datablendinginsteadofjoining)
*   [**将你的数据融入画面**](#blendingdata)
*   [**表中数据融合的局限性**](#limitationsofdatablending)

## **Tableau 中为什么需要数据融合？**T3】

假设您是一名 [***Tableau 开发人员***](https://www.edureka.co/blog/how-to-become-a-tableau-developer/) ，他在 Salesforce 中存储了交易数据，在 Access 中存储了配额数据。您想要组合的数据存储在不同的数据库中，并且在两个数据源中每个表中捕获的数据的粒度是不同的，因此数据混合是组合这些数据的最佳方式。

数据混合在以下情况下有用:

1.  ### **您想要合并来自不同数据库的数据，而这些数据不受跨数据库连接的支持。**T3】

    跨数据库联接不支持与多维数据集的连接(例如，Oracle Essbase)或某些仅提取连接(例如，Google Analytics)。在这种情况下，为要分析的数据设置单独的数据源，然后使用数据混合将数据源合并到单个工作表中。

2.  ### **数据是不同层次的细节。**T3】

    有时，一个数据集使用不同的 ***[细节层次](https://www.edureka.co/blog/tableau-lod/)*** 来获取数据，即比其他数据集更大或更小的粒度。

    例如，假设您正在分析交易数据和配额数据。事务性数据可能捕获所有事务。但是，配额数据可能会在季度级别聚合事务。因为事务值是在每个数据集中的不同细节级别捕获的，所以您应该使用数据混合来组合数据。

## **Tableau 中的数据融合是什么？【T2**

数据融合是 [***Tableau***](https://www.edureka.co/blog/what-is-tableau/) 中一个非常强大的功能。当多个数据源中存在相关数据，并且您希望在单个视图中一起分析这些数据时，可以使用该视图。它是一种组合数据的方法，该数据补充了来自一个数据源的数据表和来自另一个数据源的数据列。

通常，您使用连接来执行这种类型的数据合并，但有时，根据数据类型及其粒度等因素，使用数据混合会更好。

[https://www.youtube.com/embed/hH3FJSRotf0](https://www.youtube.com/embed/hH3FJSRotf0)

## **和数据连接有什么不同？**T3】

数据混合模拟传统的左连接。两者之间的主要区别是当执行聚合连接时的*。*

### **左加入**

当你使用左连接合并数据时，一个查询被发送到执行连接的数据库。使用左连接将返回左表中的所有行，以及右表中在左表中有相应行匹配的任何行。然后，连接的结果被发送回 Tableau 并由 Tableau 聚合。

例如，假设您有以下表格。如果公共列是**用户 ID** ，那么左连接将获取左表中的所有数据，以及右表中的所有数据，因为左表中的每一行都有相应的行匹配。

### **![Data Joining - Data Blending in Tableau - Edureka](../Images/1511e481de2695993bf951ef7b6e74d5.png)数据融合**

当您使用数据混合来组合数据时，对于工作表中使用的每个数据源，都会向数据库发送一个查询。查询的结果，包括聚集的数据，由 Tableau 发回并组合。该视图根据链接字段的维度，使用左侧表中主数据源的所有行，以及右侧表中辅助数据源的聚合行。

您可以更改链接字段或添加更多链接字段，以在混合中包括辅助数据源的不同或附加数据行，从而更改聚合值。

例如，假设您有以下表格。如果两个表中的链接字段都是**用户 ID** ，那么混合您的数据将获取左侧表中的所有数据，并用右侧表中的数据补充左侧表。在这种情况下，由于以下原因，并非所有值都可以是结果表的一部分:

*   左表中的行在右表中没有对应的行匹配，如空值所示。
*   在右表的行中有多个对应的值，如星号(*)所示。

![Data Blending - Data Blending in Tableau - Edureka](../Images/bedd995a3f73064a04cd52ecb054accd.png)假设您有与上面相同的表，但是辅助数据源包含一个名为**罚款**的新字段。同样，如果链接字段是**用户 ID** ，那么混合您的数据将从左表中取出所有数据，并用右表中的数据对其进行补充。在这种情况下，除了以下内容之外，您还会看到上一个示例中相同的空值和星号:

*   因为**罚款**字段是一个度量值，所以您会看到在右表中的数据与左表中的数据合并之前，汇总了罚款字段的行值。
*   与前面的例子一样，左表中的一行没有对应于**罚款**字段的行，如第二个空值所示。

## **![Data Blending with Fines - Data Blending in Tableau - Edureka](../Images/5fc8c8a71d32d9ca786fb270f178be47.png)当以 ** ** 代替**

### **1。数据需要清理。**T3】

如果您的表在连接后没有正确匹配，请为每个表设置数据源，进行任何必要的定制(即，重命名列、更改列数据类型、创建组、使用计算等。)，然后使用数据混合将数据组合起来。

### **2。连接会导致重复数据。**T3】

连接后的重复数据是不同细节层次的数据的症状。如果您注意到重复的数据，不要创建连接，而是使用数据混合在一个公共维上混合。

### **3。你有很多数据。**T3】

通常，建议使用连接来组合来自同一数据库的数据。连接由数据库处理，这允许连接利用数据库的一些本机功能。但是，如果您正在处理大型数据集，连接会给数据库带来压力，并显著影响性能。在这种情况下，数据混合可能会有所帮助。因为 Tableau 在数据聚合后处理数据的组合，所以要组合的数据较少。通常，当需要合并的数据较少时，性能会提高。

## **将你的数据融入画面**

当您有来自不同数据源的数据，并希望在单个工作表中一起分析时，您可以使用数据混合。Tableau 有两个名为 **Sample-superstore** 和 **Sample coffee chain.mdb** 的内置数据源，将用于演示数据混合。

**第一步:连接你的数据并设置数据源**

*   连接到一组数据，并在数据源页面上设置数据源。内置数据源**Sample coffee chain . MDB**是一个 MS Access 数据库文件，将用于说明数据混合。
*   转到**数据** **>** 新建数据源，连接第二组数据。本例使用 **样本——超市** 数据源。然后设置数据源。
*   单击“工作表”选项卡开始构建视图。

**第二步:指定主数据源**

*   将至少一个字段从主数据源拖到视图中，将其指定为主数据源。在  数据 窗格中，单击要指定为主数据源的数据源。在本例中，  样品咖啡连锁店 被选中。
*   下面的屏幕截图显示了文件中可用的不同表和连接。

![Coffee Chain - Data Blending in Tableau - Edureka](../Images/1d7f1670b1d6067fb8202f2f979b5c0a.png)

**第三步:指定辅助数据源**

*   视图中使用的字段来自非主数据源或活动链接的数据源，自动将后续数据源指定为辅助数据源。在这种情况下，样本超市。

**第四步:融合数据**

*   现在，您可以基于一个公共维度集成来自两个源的数据(在本例中， **State** )。请注意，维度状态旁边会出现一个小链接图像。这表明了两个数据源之间的公共维度。
*   假设您创建了一个条形图，列货架上有**利润率**，行货架上有**州**，该图表显示了超市和咖啡连锁店中每个州的利润率是如何变化的。

## **![Chart - Data Blending in Tableau - Edureka](../Images/d5bbc332157de966c024962bab4343cc.png)Tableau 中数据融合的局限性**

1.  围绕非加性骨料有一些数据混合限制，如**中位数**，和 **RAWSQLAGG** 。
2.  数据融合在高粒度上折衷了查询的速度。T3】
3.  当您尝试按使用混合数据的计算字段排序时，该计算字段未列在排序对话框的字段下拉列表中。
4.  多维数据集数据源只能用作 Tableau 中混合数据的主数据源。它们不能用作辅助数据源。

*我希望你们所有人，现在，对这个博客中的**数据融合画面**有一个公平的想法。渴望更多的知识？别担心，这个视频会让你更好地理解这个概念。*