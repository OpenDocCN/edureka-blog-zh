# 微服务教程–通过示例了解微服务的所有信息

> 原文:[https://www . edu reka . co/blog/micro services-tutorial-with-example](https://www.edureka.co/blog/microservices-tutorial-with-example)

## **微服务教程**T5】

组织迅速走向微服务架构&猎取拥有 [***微服务认证***](https://www.edureka.co/microservices-architecture-training) 的专业人士。  我希望你已经阅读了我之前的博客 ***[什么是微服务](https://www.edureka.co/blog/what-is-microservices/)*** ，它解释了架构，将微服务与 monolithic 和 SOA 进行了比较，并且还借助用例探索了何时使用微服务。

在本微服务教程中，将涵盖以下主题:

*   [单片架构](#MonolithicArchitecture)
*   [挑战单片架构](#ChallengesofMonolithicArchitecture)
*   [什么是微服务](#WhatisMicroservices)
*   [微服务架构](#MicroserviceArchitecture)
*   [微服务示例–演示](#Hands-On)

让我们通过 Mediamore.com 的一个用例来探索微服务的概念。

Mediamore 是一家提供流媒体和在线视频的娱乐公司。它由不同语言的各种类型的电视节目组成。像许多其他公司一样，mediamore 以整体架构开始了它的之旅。

现在让我们探索一下 mediamore 的整体框架。T3】

## **单片架构**

![Monolithic Architecture of Use-case - Microservices Tutorial - Edureka](../Images/a153912ca54e8b6d4432a3e908a893a4.png)

**图 1:**media more 的整体架构——微服务教程

参考上图。我们可以推断，所有的功能，如搜索，用户信息，推荐，视频播放列表和其他放在一个单一的数据库使用单一的代码。

现在，让我通过一些场景告诉你开发人员在使用一个整体框架时所面临的挑战。

## **挑战单片架构**

**场景 1:可扩展性:** *让我们假设开发者想要根据最流行的电视节目来更新播放列表，并且同时想要将所有视频更新到 HD 质量。*

开发者不能同时扩展应用。每次开发或部署新功能时，都必须创建同一应用程序的新实例。T3】

**场景二:敏捷性:** *假设开发者希望在应用中立即做出改变。*

单片应用程序肯定能适应这些变化。但是，这里的问题是，开发人员必须为每一个小的变化重新构建代码。

**场景 3:混合技术:** *假设这个应用程序的开发人员对各种技术如 JAVA、C++、。NET，C#。*

即使他们对各种技术驾轻就熟，他们仍然需要在单一技术上构建大型复杂的应用程序。

**场景 4:容错:** *让我们假设一个特定的特性在应用程序中不起作用。*

整个系统因为这个问题而瘫痪。为了解决这个问题，必须重新构建、重新测试和重新部署应用程序。

那么，mediamore 的开发者是如何克服这些复杂性的呢？

开发人员因此决定将他们的整体应用重新架构成多个可部署的组件，称为微服务。

**这里隐藏着百万美元的问题！**

## **什么是微服务？**T3】

*微服务是一种架构，其中系统的所有组件都被放入单独的* *组件* *s* *、* *中，这些组件可以单独构建、部署和扩展。*T11】

让我用一个简单的比喻来解释给你听。

你一定见过蜜蜂如何通过排列六角形的蜡细胞来建造它们的蜂巢。他们最初使用各种材料从一小部分开始，然后继续用它建造一个大蜂巢。这些细胞形成一种模式，从而形成一种牢固的结构，将蜂窝的特定部分结合在一起。在这里，每个细胞都独立于其他细胞，但也与其他细胞相关。这意味着对一个细胞的损害不会损害其他细胞，因此，蜜蜂可以重建这些细胞，而不会影响整个蜂巢。

![Representation Of Micorservices - Microservices Tutorial - Edureka](../Images/56a0bc17535589aedda7b6c62f29db3c.png)

**图 2:** 微服务的蜂巢表示——微服务教程

参考上图。这里，每个六边形代表一个单独的服务组件。类似于 bees 的工作，每个敏捷团队用可用的框架和选择的技术栈构建一个单独的服务组件。就像在蜂窝中一样，每个服务组件形成一个强大的微服务架构，以提供更好的可伸缩性。此外，每个服务组件的问题都可以由敏捷团队单独处理，对整个应用程序没有影响或影响很小。

您可能想到的下一个问题是微服务架构的不同组件如何协同工作。

但是，在此之前，让我列出微服务架构的组件。

参考下图。

![Microservice Architecture - Microservices Tutorial - Edureka](../Images/ac4d52f34182f988fb4beeb321e5f25d.png)

**图 3:** 微服务架构——微服务教程

*   **客户端**–来自不同设备的不同用户发送请求。
*   **身份提供者**—验证用户或客户身份并颁发安全令牌。
*   **API 网关**——处理客户端请求。
*   **静态内容**——容纳了系统的所有内容。
*   **管理**—平衡节点上的服务并识别故障。
*   **服务发现**——寻找微服务间通信路径的指南。
*   **内容交付网络**——代理服务器及其数据中心的分布式网络。
*   **远程服务**–支持远程访问驻留在 IT 设备网络上的信息。

现在，让我通过考虑一个场景，向您简要介绍 mediamore 上的这些组件是如何协同工作的。

## **微服务架构**

### **场景:**

Alice 是 mediamore 的忠实用户。她经常使用 mediamore 在线观看她最喜欢的连续剧。她最近错过了一集她最喜欢的电视节目。

当 Alice 登录该应用程序时，她会在主页上看到最受推荐的内容。经过一番寻找，她终于找到了她的电视节目。

但是，如果爱丽丝想通过简单的点击获得她的电视节目呢？

开发人员将如何合作来满足爱丽丝的要求？T3】

爱丽丝的请求被传递给**身份提供者**。因此，身份提供者通过将 Alice 识别为 mediamore 上的普通用户来验证她的请求。

这些请求被传递到 **API 网关**，该网关充当爱丽丝将她的请求转发到适当微服务的入口点。

每个功能都有自己的工作微服务，处理自己的数据。这些微服务也有自己的**负载平衡器**和**执行环境**来正常运行。

![Microservice Architecture Of Use-Case - Microservices Tutorial - Edureka](../Images/d29581eeb29ffaba692d0cfe81b91542.png)

**图 4:**media more 的微服务架构——微服务教程

参考下图。每个微服务由一个小的敏捷团队处理，例如内容团队、视频上传团队、最流行团队、搜索团队等。

![Different Teams - Microservices Tutorial - Edureka](../Images/feeaa006babe8af289274d7ee2fc155b.png)

**图 5:**media more-微服务教程团队分工

*   内容团队由应用程序提供的数百万个电视节目组成。
*   视频上传团队负责将所有内容上传到应用程序中
*   最受欢迎团队根据用户的地理位置等来存放最受欢迎的节目。

这些小型开发团队将每一条内容与描述搜索内容的元数据联系起来。然后，元数据被提供给另一个微服务，即搜索功能，该功能确保 Alice 的搜索结果被捕获到内容目录中。

然后，第三个微服务，即最热门的微服务，根据所有 mediamore 用户的地理位置捕获他们的热门内容。

这个微服务的内容就是 Alice 第一次登录 mediamore 时看到的内容。

这些可单独部署的微服务被放入特定的**容器**中，以加入应用程序。容器用于将代码交付给需要部署的部门。

但是在他们加入一起工作的申请之前，他们必须找到对方来满足爱丽丝的要求。

**这些微服务是如何找到对方的？**

微服务使用**服务发现**作为向导来寻找它们之间的通信路径。微服务然后通过无状态服务器相互通信，即通过 **HTTP 请求/消息总线**。

![Communication Between Microservices - Microservices Tutorial - Edureka](../Images/68857b542996d8664281bccd27f4463a.png)

**图 6:** 微服务之间的通信——微服务教程

这些微服务使用**应用程序接口(API)** 相互通信。在微服务内部通信之后，它们将**静态内容**部署到基于云的存储服务，该服务可以通过**内容交付网络(CDNs)** 将它们直接交付给客户端。T9】

因此，当 Alice 搜索她的电视节目时，搜索微服务与 API 中的内容目录服务进行通信，了解 Alice 在搜索什么，然后这些微服务将键入的单词与他们已经拥有的元数据进行比较。

![Working of Search Funtion - Microservices Tutorial - Edureka](../Images/e2d3cbfb356e16d45282b4b88b898bdd.png)

**图 7:** 表示如何借助 API 微服务教程进行搜索操作

一旦开发团队捕捉到 Alice 键入最多的单词，分析团队就会更新推荐微服务中的代码，并将 Alice 最常查看的内容和偏好与同一地理区域的其他用户中的热门内容进行比较。

这意味着下次 Alice 登录该应用程序时，她不仅可以看到最受欢迎的内容，还可以找到包含她以前看过的节目的个性化播放列表。

通过这种方式，开发团队很快满足了 Alice 的要求，因为他们不必重新构建完整的应用程序，只需更新代码即可部署这一新功能。

因此，微服务通过这种方式调用并行环境来满足数百万兴趣各异的客户。

现在在这个微服务教程里，我的下一节重点讲动手。

#### 订阅我们的 youtube 频道以获取新的更新..！