# Git Rebase vs Git Merge:哪个更好？

> 原文:[https://www.edureka.co/blog/git-rebase-vs-merge/](https://www.edureka.co/blog/git-rebase-vs-merge/)

关于 git merge 和 git rebase 哪个更好，有很多争论。今天，在关于 Git Rebase vs Merge 的博客中，我们将消除你对 Git Rebase 和 Git Merge 的所有疑虑。这两种技术用于相同的目的，因此由于它们的相似性，理解它们有点棘手。在博客结束时，你会知道什么时候使用 Git Rebase vs Merge。

Git Merge 和 Git Rebase 命令用于将多个开发人员的工作合并到一个代码中。这两个命令的最终目标是相同的，但是它们的用法不同。今天在这篇博客中，我们将尝试理解 Git 合并和 Git Rebase。

如果你不喜欢阅读，这里有一个关于 Git Rebase vs Merging 的视频，可以帮助你理解这篇博客中写的是什么。

[https://www.youtube.com/embed/tjVsGOGExh4](https://www.youtube.com/embed/tjVsGOGExh4) So, the following are the topics covered in this blog:

*   Git 是如何工作的？

*   什么是合并？
*   [Git Merge](#Git-Merge?)
*   [Git Rebase](#Git-Rebase?)
*   [去梅吉 vs 去瑞巴。](#Git-Merge-vs-Git-Rebase.)
*   [Git Rebase 和 Git Merge 怎么一起用？](#How-can-Git)

Git 是如何工作的？

为了理解 git 的工作原理，我们需要理解 git 中的两个基本概念，即 git 提交和 git 分支。让我们分别理解这两个术语。

### 什么是提交？

提交被定义为存储代码及其更改的位置。让我们举个例子，从下图简单讨论一下:

![](../Images/01538f594422877d260f60334f949bcc.png) **图 1:所做的更改保存在提交中**

在图 1 中，让我们假设我们有四个 python 文件。我们在 git 上保存了它们。这四个 python 文件将保存在一个提交中。每个提交都有一个提交 id，在我们的例子中是 1234。现在，假设我们通过添加另一个 python 文件对代码做了一些更改。git 中的这些更改将被保存为另一个 commit-id 为 14343 的 commit。这可以在图 2 中看到。因此，每当我们做出任何更改，它都会生成一个新的提交。

![](../Images/eb78dcbf68d0cddffaebd68e77c6fb33.png) **图 2:存储库中所做的更改将被保存为一个新的提交，具有一个新的提交 id**

### **什么是分支？**

分支是代码的不同独立版本的表示。让我们举个例子来理解这一点，假设你有一个网站目前正在运行。网站看起来像这样。

![Sample - Merging - Git Rebase vs Merge - Edureka](../Images/f38f0a5b3813035abe3a17a0b93a629c.png) **图 3:变更前的网站示例**

您希望向该网站添加更多功能。为此，你将不得不改变网站的代码。但是，如果您正在更改代码，您不希望这些更改反映在已部署的主网站中。你是做什么的？理想情况下，你会把这个网站的代码复制到一个新的文件夹中。对代码进行修改，一旦修改完成，你将替换主文件夹中的代码，对吗？让我们了解一下如何在 git 中做上面的事情。

因此，在 git 中，为了隔离不同版本的代码，我们有分支。默认情况下，所有代码都存储在主分支上。所以，我们上面给你看的网站就是大师分支。现在，我们不想接触主分支代码，我们想将主分支的代码复制到一个新的地方，在那里我们可以实验或更改代码。因此，不会影响主分支。因此，我们从主分支创建一个新分支，让我们称之为‘特征分支’。现在，您将在特性分支上进行的任何新的更改，都不会影响主分支上的代码。

![Git Rebase vs Merge - Edureka](../Images/85757a34c67652dc6e516a2de436cba0.png)

**图 4:主分支和特征分支**

一旦您完成了更改，我们只需将“功能”分支的更改“合并”到“主分支”中。现在，在特性分支中所做的更改也将存在于主分支中。

![Git Rebase vs Merge - Edureka](../Images/3eaf4472dde11a9ed610cbbb11a78b97.png)

**图 5:特征分支与主分支的合并**

如果我们考虑合并后的网站示例，可以在下图中看到变化:

![Hello World - Merging - Git Rebase vs Merge - Edureka](../Images/053b4c85811785e801e614d2d0570098.png) **图 6:将变更合并到主分支后，变更显示在网站上。**

如果你不明白合并，不用担心，下一节会讲清楚的。

## 什么是合并？

总的来说，合并意味着将某物结合成一个单一的实体。

Git 合并是一种技术，用于包含从一个分支到另一个分支的变更。

因此，让我们以下面的图表为例，它显示了两个分支(特征分支和主分支)合并前后的状态。蓝色提交在主分支上，黄色提交在特征分支上。

![Before Merging - Git Rebase vs Merge - Edureka](../Images/291caeca27d5a82ba3196d4df4f726f7.png) **图 7:合并前**

在图 7 中:在合并之前，我们可以看到在主分支上有一些提交。在主服务器上提交“2”后，我们创建了一个功能分支。后来，我们以提交 A 和 b 的形式在功能分支中做了一些更改。我们还以提交 3 的形式在主分支中做了一些更改。

在当前场景中，主分支具有提交 1、2 和 3 的代码，但是它没有来自特性分支的提交 A 和 B 的更改。

类似地，由于功能分支是在提交“2”时从主服务器中分支出来的，因此它具有来自提交 1、2、A 和 B 的代码更改，但是它没有来自主服务器上提交 3 的更改。

下面，我们合并了 master 上的 feature 分支，让我们了解一下发生了什么。

![Merging - Git Rebase vs Merge - Edureka](../Images/858a5fa580e38baff267cdeaae995ebb.png) **图 8:合并后的**

我们合并了主服务器上的功能分支，导致提交 4。主服务器上的 Commit 4 包含代码的所有更改，即 Commit 1、2、3、A 和 b。现在，我们已经了解了合并，让我们了解我们可以在 git 中执行的不同类型的合并。在 Git 中，合并有两种类型:

*   Git Merge
*   Git Rebase

让我们详细了解一下他们两人

**Git Merge** Git merge 是 Git 中的合并技术之一，其中分支上提交的日志是完整的。

让我们举一个例子，如果我们有一个项目，在主分支上有 3 个提交，分别为提交 1、2、3，而特性分支提交为提交 A 和 B，如果我们执行 git 合并操作，那么提交 A 和 B 将合并为提交 4 到主分支上。这在图 9 中进行了描述。

![Merging - Git Rebase vs Merge - Edureka](../Images/257a4a77433910c6501cb78202fb5657.png) **图 Git 合并前后。**

**优点:**

*   这些日志非常详尽，有助于理解每次合并是如何以及何时发生的完整历史
*   发现错误并解决它们是很容易的。

**缺点:**

*   导致笨拙的日志/历史
*   不太人性化![Git Merge - Git Rebase vs Merge - Edureka](../Images/08b74a0595a1bd2208eed3b55e2b324d.png)

**图 10:示例显示了使用 git-merge** 合并的具有多个分支的存储库

Git-Rebase Git Rebase 类似于 git merge，但是在这种技术中日志在合并后被修改。Git rebase 的引入是为了克服合并的限制，也就是说，使存储库历史的日志看起来是线性的。

让我们举一个例子，如果我们有一个项目，在主分支上有 3 个提交，分别为提交 1、2、3，在功能分支上有提交 A 和 B。如果我们执行 git rebase 操作，那么提交 A 和 B 将作为提交 4 和 5 重新基于主分支，并且没有功能分支的日志。这在图 12 中进行了描述。

![Before-and-After](../Images/dce63162fa351984bd6274be65ac1554.png) **图 12:git 改基前后**

**优点:**

*   对数是线性的
*   很容易完成这个项目。

**缺点:**

*   我们无法跟踪提交是何时以及如何在目标分支上被合并的

## **去 Merge Vs 去 Rebase:**

| 合并 | Rebase |
| Git merge 是一个允许你从 Git 中合并分支的命令。 | Git rebase 是一个命令，允许开发人员将一个分支的变更整合到另一个分支。 |
| 在 Git 中，合并日志将显示提交合并的完整历史。 | 在 Git rebase 中，日志是线性的，因为提交是重定基数的 |
| 特性分支上的所有提交将在主分支中合并为一个提交。 | 所有提交都将被重置，相同数量的提交将被添加到主分支。 |
| 当目标分支是共享分支时使用 Git 合并 | 当目标分行为私人分行时，应使用 Git Rebase |

## 我们什么时候使用 Git Merge vs Git Rebase？

让我们用一个例子来理解它，请参考下图:

**![fig13](../Images/a7c756648b11f7f7eb9888693d28f481.png)T2】**

**图 13:描绘了在 Git 合并和 Git 重建基础之后存储库中的差异**

在 git merge 中，查看结束图，可以看出提交 A 和 B 来自特征分支。然而，在 git-rebase 图中，很难理解提交 A 和 B 来自哪里。因此，当我们希望我们的团队以一种他们可以识别每个提交来自哪里的方式理解日志时，我们确实要进行 git 合并。当存储库的日志不会被其他任何人引用时，我们使用 Git Rebase。总而言之，当我们在分支上工作时，我们可以使用 Git Rebase，这是其他开发人员看不到的。当目标和源分支可以被其他开发人员看到时，我们使用 Git Merge。

## **Git Rebase 和 Git Merge 怎么一起用？**

让我们举一个例子，如果我们有一个项目，它包括一个主分支，有 3 个提交，分别是 1、2、3 和 2 个特征分支，在特征分支 1 上提交 A、B，在特征分支 2 上提交 C、D，如图 14 所示。

**![fig14](../Images/bb0e7a85b3ee4a8c88336a7d1ab654b9.png)T2】**

**图 14:上述示例的示意图**

让我们假设开发人员 A 正在开发特性分支 1。

为了试验代码，他创建了另一个分支特性 branch 2，在其中做了一些修改，并通过提交 C 和 d 来完成。因此，他可以在功能 1 的基础上改变功能 2 的基础。

![Rebase - Git Rebase vs Merge - Edureka](../Images/6dcca38b2dc05db3e20cef71f856ffe5.png) 现在他终于可以合并主图上的特征 1 分支，结果得到下图。

以上是其他开发人员看到的最终日志。他们只能看到在特性分支 1 上进行的提交，然后最终在主分支上与提交 4 合并。

我们的 Git Merge vs Git Rebase 博客到此结束。我们确信你对 Git Merge 和 Git Rebase 的困惑现在已经很清楚了。如果没有，我们建议你先浏览一下 Git 的基础知识，查看我们的 [Git 教程博客](https://www.edureka.co/blog/git-tutorial/)了解更多信息。

此外，如果你的目标是成为一名 Devops 工程师并需要专业帮助，请参加 [Edureka 的 Devops 认证培训](https://www.edureka.co/devops-certification-training)，接受来自世界各地的世界级 Devops 工程师的指导！